<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../css/master.css">
    <style media="screen">
      ul {
        line-height: 1.5;
      }
      .collapsible {
      background-color: #eeeeee;
      color: black;
      cursor: pointer;
      padding: 18px;
      width: 100%;
      border: none;
      text-align: left;
      outline: none;
      font-size: 15px;
      margin-bottom: 10px;
      }
      .active, .collapsible:hover {
      background-color: #888;
      }
      .content {
      padding: 0 18px;
      display: none;
      overflow: hidden;
      background-color: #fff;
      border: 1px solid black;
      margin-bottom: 10px;
      }
    </style>
    <title>getDataFromROI</title>
  </head>
  <body>
    <h2>getDataFromROI</h2>
    <hr>
    <p>
      Extracts data from ROIs.
    </p>
    <h3 id="description">Description</h3>
    <hr>
    <p>
      This function extracts and aggregates data from ROIs. The function uses the ROIs stored in a <samp>ROImasks_&lt;NAME&gt;.mat</samp> file to extract the data from any imaging dataset created in <b><i>umIT</i></b>. Additionally, this function applies an aggregation function (i.e., mean, max, min, median, mode, sum or standard deviation) to summarize the pixel values from an ROI.
    </p>
    <h3>Input</h3>
    <hr>
    <p>
      This function accepts any imaging data containing the dimensions Y,X as input.
    </p>
    <h3>Output</h3>
    <hr>
    <p>
      The output of this function is a <samp>.mat</samp> file containing the aggregated data separated by ROI.
      <div class="infonote">
        <p><strong>Note</strong><br>
          The output of this function is used in the <i>Analysis</i> tab of the <samp>umIToolbox</samp>app to visualize and compare grouped datasets.
        </p>
      </div>
    </p>
    <h3 id="parameters">Parameters</h3>
    <hr>
    <button title="click to expand" type="button" class="collapsible">
      <span class="iconplus"></span>
      <samp><b>ROImasks_filename</b></samp> - name of ROImasks file<br>
      <span class="title-desc"><i> 'ROImasks_data.mat' (default) | string </i></span>
    </button>
    <div class="content">
      <p>
        This parameter contains the name of the <samp>.mat</samp> file starting with <small>ROImasks_</small> generated by the <samp>ROImanager</samp> app. This file contains the ROIs logical masks that will be used by this function to extract the ROI data.
      </p>
    </div>
    <button title="click to expand" type="button" class="collapsible">
      <span class="iconplus"></span>
      <samp><b>SpatialAggFcn</b></samp> - Spatial aggregation function<br>
      <span class="title-desc"><i> mean (default) | max | min | median | mode | sum | std | none </i></span>
    </button>
    <div class="content">
      <p>
        This parameter states the function that will be used to aggregate the ROI data. The selected function will be applied to all pixels inside the ROI. Thus, this operation will reshape the input data by removing the X and Y dimensions. For instance, if the input data has dimensions Y, X and T, the output data will have dimension 1 x T.
      </p>
      <div class="infonote">
        <p><strong>Note</strong><br>
          Select <samp>none</samp> extract the ROI data <b>without</b> aggregation. Here, the output data will still be reshaped but with dimensions N x T where N corresponds to the number of pixels inside the ROI.
        </p>
      </div>
    </div>
    <!-- JavaScript code to collapse sections -->
    <script src="collapsible_behaviour.js"></script>
  </body>
</html>
