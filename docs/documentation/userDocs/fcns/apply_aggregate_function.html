---
permalink: /documentation/userDocs/fcns/apply_aggregate_function.html
layout: default
title: apply_aggregate_function
parent: Filters
grand_parent: Functions
nav_order: 2
---
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">    
    <style media="screen">
      ul {
        line-height: 1.5;
      }
      .mycollapsible {
      background-color: #eeeeee;
      color: black;
      cursor: pointer;
      padding: 18px;
      width: 100%;
      border: none;
      text-align: left;
      outline: none;
      font-size: 15px;
      margin-bottom: 10px;
      }
      .active, .mycollapsible:hover {
      background-color: #888;
      }
      .content {
      padding: 0 18px;
      display: none;
      overflow: hidden;
      background-color: #fff;
      border: 1px solid black;
      margin-bottom: 10px;
      }
    </style>
    <title>aggregate function</title>
  </head>
  <body>
    <h2>apply_aggregate_function</h2>
    <hr>
    <p>
      Applies an aggregate function ('mean', 'max', 'min', 'median', 'mode', 'sum', 'std') to one of the dimensions of the data.
    </p>
    <h3 id="description">Description</h3>
    <hr>
    <p>
      This function applies one of the following aggregate functions to a selected dimension of the imaging data:
    </p>
    <ul>
      <li>mean (average)</li>
      <li>median</li>
      <li>max</li>
      <li>min</li>
      <li>mode</li>
      <li>sum</li>
      <li>std (standard deviation)</li>
    </ul>
    <p>
      Generally, this function is used as an intermediate step of the data processing in order to reduce the data's dimension (i.e. aggregation). For instance, you can use the <samp>apply_aggregate_function</samp> to apply the "mean" to the <b>E</b>vents dimension of a data containing the response amplitude maps to a stimulus which creates the average event-triggered cortical maps.
    </p>
    <h3>Input</h3>
    <hr>
    <p>
      This function accepts all <samp>.dat</samp> files containing imaging data <b>except</b> <i>correlation maps (with dimensions Y,X,S)</i>.
    </p>
    <h3>The algorithm</h3>
    <hr>
    <p>
      When applying an aggregation function over the dimensions Y,X or T, the resulting data will lack this dimension. This occurs because the aggregation of the data creates a singleton dimension which is automatically eliminated. For instance, if you apply the "mean" across the <b>T</b>ime dimension of an image series (Y,X,T) the resulting dataset will have dimensions Y and X.
    </p>
    <p>
      The only exception is when the function is applied to the <b>E</b>vents dimension. In this case, the aggregation function will be applied across the repetitions of each event. Thus, the dimensions of the output data will remain the same.
    </p>
    <h3>Output</h3>
    <hr>
    <p>
      This function creates the aggregated data and a meta data structure containing the information about the data (e.g. new dimensions and sizes).
    </p>
    <h3 id="parameters">Parameters</h3>
    <hr>
    <p>The parameters of this function are the following:</p>
    <button title="click to expand" type="button" class="mycollapsible">
      <span class="iconplus"></span>
      <samp><b>aggregateFcn</b></samp> - name of aggregation function <br>
      <span class="title-desc"><i>mean (default) | max | min | median | mode | sum | std</i></span>
    </button>
    <div class="content">
      <p>
        Select the aggregation function to be applied over a dimension of the input data.
      </p>
    </div>
    <button title="click to expand" type="button" class="mycollapsible">
      <span class="iconplus"></span>
      <samp><b>dimensionName</b></samp> - the name of data's dimension to be aggregated<br>
      <span class="title-desc"><i>T (default) | X | Y | E</i></span>
    </button>
    <div class="content">
      <p>
        This parameter sets the dimension to perform the aggregation function (<samp>aggregateFcn</samp>) on. In case of the dimension <b>E</b>, the aggregation function will be applied over the repetitions of each event.
      </p>
    </div>
    <!-- JavaScript code to collapse sections -->
    <script src="../../collapsible_behaviour.js"></script>
  </body>
</html>
