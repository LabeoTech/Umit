<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <link rel="stylesheet" href="../../css/master.css">
    <meta charset="utf-8">
    <style media="screen">
      ul {
        line-height: 1.5;
      }
    </style>
    <title>DataViewer</title>
  </head>
  <body>
    <h2>DataViewer</h2>
    <hr>
    <p>
      <samp>DataViewer</samp> is a graphical interface to visualize functional imaging recordings. The app provides basic tools to explore distinct types of recordings such as image time series, event-triggered time series and correlation maps. <samp>DataViewer</samp> can be called from the <a href="./umIToolbox-Viz.html">visualization</a> tab of the <a href="./umIToolbox.html">umIToolbox</a> app or as <b>standalone</b>.
      The app opens the following data (dimension names):
    </p>
    <ul>
      <li>Image time series (Y,X,T)</li>
      <li>Event-triggered image time series (E,Y,X,T)</li>
      <li>Single frames (Y,X)</li>
      <li>Seed-pixel correlation maps (Y,X,S)</li>
    </ul>
    <h3 id="syntax">Syntax</h3>
    <hr>
    <p>
      <samp>DataViewer()</samp>: Opens the main GUI.
    </p>
    <p>
      <samp>DataViewer(<font class="stringformat">'C:/PATH/datFile.dat'</font>)</samp>: Opens the app with the imaging data from <samp>datFile.dat</samp>. The <samp>.dat</samp> file created by one of the <a href="../user_doc_index.html">analysis functions</a> of <b><i>umIT</i></b>.
    </p>
    <h3 id="the-interface">The interface</h3>
    <hr>
    <p>
      The main components of the graphical interface are: a main window, containing file and data control options, an image window and a temporal signal window (if the time dimension exists).
    </p>
    <p style="text-align: center;">
      <img src="../assets/img/dataviewer_fig1.png" alt="dataviewer_fig1"  width = "880"> <br>
      <i>Main components of the <b>DataViewer</b> app</i>
    </p>
    <h4 id="1-menu-bar">1. Menu Bar</h4>
    <ul>
      <li><b>File &gt;&gt;</b><ul>
        <li><b><i>Open:</i></b>  Opens dialog to load previously saved .DAT files</li>
        <li><b><i>Import Raw data</i></b> &gt;&gt;
          <ul>
            <li><b><i>from LabeoTech system:</i></b> Import raw data from LabeoTech Imaging Systems. Read the documentation of <a href="run_ImagesClassification.html"><samp>run_ImagesClassification</samp></a> function for details</li>
            <li><b><i>from TIFF:</i></b> Import raw data from .TIFF files. Read the documentation of <a href="importFromTif.html"><samp>importFromTif</samp></a> function for details</li>
          </ul>
        </li>
        <li><b><i>Export images:</i></b> Opens dialog to export Image and temporal signal windows (PNG (default), JPEG, PDF or EPS formats)</li>
        <li><b><i>Export movie:</i></b> Opens dialog to export Image and temporal signal windows as a movie (.AVI (default) or .MP4)</li>
        <li><b><i>Save as...:</i></b> Open dialog to save current data into a .DAT file</li>
      </ul>
    </li>
    <li><b>Settings &gt;&gt;</b><ul>
      <li><b><i>Image Options:</i></b> Opens dialog to set image colormap and clipping values</li>
      <li><b><i>Playback speed:</i></b> Sets movie speed for playback button (3. Controls). If the selected speed is too high, the app will reduce it to avoid lag</li>
    </ul>
    </li>
    <li><b><i>Utilities &gt;&gt;</i></b>
      <ul>
        <li><b><i>Data processing:</i></b> <b>(Standalone only)</b> Tool to setup image processing pipeline on the data using the <a href="../user_doc_index.html">analysis functions</a> from the toolbox</li>
        <li><b><i>View Data History:</i></b> Opens a table showing information about the analysis functions run for the opened data file</li>
        <li><b><i>ROI options</i></b> <b>(Standalone only)</b> &gt;&gt;
          <ul>
            <li><b><i>Extract data from ROI:</i></b> <b></b> Tool to create a <samp>.mat</samp> file containing data from the displayed ROIs. Read the documentation of the <a href="getDataFromROI.html"><samp>getDataFromROI</samp></a> function for details</li>
            <li><b><i>Generate correlation matrix:</i></b> <b></b> Tool to create a <samp>.mat</samp> file containing a correlation matrix from the displayed ROIs. Read the documentation of the <a href="genCorrelationMatrix.html"><samp>genCorrelationMatrix</samp></a> function for details</li>
          </ul>
        </li>
    </ul>
    </li>
    <li><b><i>Add-ons &gt;&gt;</i></b>
      <ul>
        <li><b><i>ROImanager:</i></b> Launches the <a href="ROImanager.html">ROImanager</a> app as add-on</li>
        <li><b><i>Multi-plots:</i></b> Launches the <a href="multi-plot_tool.html">Multi-plot</a> tool</li>
      </ul>
    </li>
    </ul>
    <h4 id="2-file-info">2. File info</h4>
    <p>
      Displays the current file path and the experiment type.
    </p>
    <h4 id="3-controls">3. Controls</h4>
    <p>
      The main window has some control options for image time series:
    </p>
    <ul>
      <li><b><i>Slider:</i></b> interactive selection of frames</li>
      <li><b><i>Play button:</i></b> plays a movie</li>
      <li><b><i>Coordinates:</i></b> Sets the X,Y coordinates of the crosshair in the <i>Image window</i></li>
    </ul>
    <h4 id="4-image-window">4. Image window</h4>
    <p>
      Click on the image to select a pixel. For image time series, the signal amplitude of the selected pixel will be updated in the temporal profile figure.
    </p>
    <p>
      Use the figure's <i>Data Tips</i> button(<img src="../assets/img/tt_dataviewer_datatip_icon.png" alt="tt_dataviewer_datatip_icon">) to add data tips with information about the selected pixel.
    </p>
    <p style="text-align: center;">
      <img src="../assets/gifs/dataviewer_imagFig_clicking.gif" alt="DataViewer_Anim1"  width = "880">
    </p>
    <h4 id="5-time-profile-window">5. Time profile window</h4>
    <p>
      This window will be visible only for data containing <b>T</b>ime dimension. Double-click over the plotted line to shift the current frame to the point in time.<br>As for the <i>Image Window</i>, use the figure&#39;s <i>Data Tips</i> button to add data tips  showing the signal amplitude and time delay values.
    </p>
    <p style="text-align: center;">
      <img src="../assets/gifs/dataviewer_timeFig_clicking.gif" alt="DataViewer_Anim2"  width = "880">
    </p>
    <h4 id="6-events-window">6. Events window</h4>
    <p>
      This window will be visible only for data containing <b>E</b>vents. Use this window to change the currently displayed condition/repetition or to edit the events list.
    </p>
    <p style="text-align: center;">
      <img src="../assets/img/dataviewer_events_window.png" alt="dataviewer_events_window"  width = "220"><br>
      <i>Events window</i>
    </p>
    <ul>
      <li><b><i>Events Options</i></b> panel
        <ul>
          <li><b><i>Condition</i></b>: select the condition to be displayed</li>
          <li><b><i>Repetition</i></b>: select the repetition or the <i>#Average</i> of the current condition</li>
        </ul>
        <li><b><i>Options</i></b> menu
          <ul>
            <li><b><i>Delete current</i></b>... : Deletes the current condition or repetition from the file's <samp>.mat</samp> meta data file.
              <ul>
                <li><b><i>Condition</i></b>: deletes the current condition</li>
                <li><b><i>Repetition</i></b>: deletes the current repetition</li>
              </ul>
            </li>
            <li>
              <b><i>Restore all</i></b>: restores the condition and repetition to the original lists.
            </li>
          </ul>
        </li>
      </li>
    </ul>
  </body>
</html>
