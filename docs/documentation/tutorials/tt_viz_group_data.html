<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../css/master.css">
    <title>Visualize grouped data</title>
  </head>
  <body>
    <h2>Visualize grouped data</h2>
    <hr>
    <p>
      Up to this point, you learned how to import, preprocess, extract and aggregate data from imaging datasets separated by experimental groups. In this tutorial, we show how to visualize this data. The visualization of grouped data allows one to perform the exploratory data analysis of a given project.
    </p>
    <p>
      In this tutorial, we will visualize the data used in the previous section about <a href="./tutorials/tt_extracting_data_from_rois.html">ROI data extraction and aggregation</a>. In brief, it consists of four resting state and four visual stimulation experiments performed in four mice divided into two experimental groups.
    </p>
    <h3>Sections</h3>
    <hr>
    <p>
      <ul>
        <li><a href="#plot-evnt-trig-data">Plot visual stimulation data</a>: visualize the response of visual areas to a drifting grating stimulus.</li>
        <li><a href="#plot-corr-mat">Plot correlation matrices</a>: visualize the correlation between cortical areas.</li>
      </ul>
    </p>
    <h3 id="plot-evnt-trig-data">Plot visual stimulation data</h3>
    <hr>
    <p>
      In this section, we will visualize the response of visual areas to drifting gratings. The data consists of the average response amplitudes to 10 repetitions of the visual stimulus resulting in one value (scalar) per ROI (i.e., <i>ROI response amplitude values</i>). Below is a summary of the data processing workflow for one recording:
    </p>
    <img src="../assets/img/tt_viz_data_event_trig_data_processing_workflow.png" alt="tt_viz_data_event_trig_data_processing_workflow" width="660">
    <p>
      1. First open your project file in the main GUI. In Matlab's command window, type:
    </p>
    <div class="codeinput">
      <pre>
        umIToolbox(<font class="stringformat">'C:/FOLDER/projectfile.mat'</font>);
      </pre>
    </div>
    <p>
      2. In the <i>Analysis</i> tab, use the <i>Grouping tool</i> option to create or load the grouped data (for more information, revisit our tutorial on <a href="./tutorials/tt_creating_groups.html">how to create groups</a>). Here, we will group all drifting grating recordings into two groups: <b>M4s</b> and <b>M5s</b>:
    </p>
    <img src="../assets/img/tt_viz_data_grouped_data_in_main_gui.png" alt="tt_viz_data_grouped_data_in_main_gui" width="660">
    <p>
      3. Now, highlight all recordings in the object tree and select the file named <samp>ROI_dataSF</samp> containing the ROI response amplitude values.
    </p>
    <img src="../assets/img/tt_viz_data_file_selection_in_main_gui.png" alt="tt_viz_data_file_selection_in_main_gui" width="660">
    <p>
      4. Once the <samp>.mat</samp> file is selected, a list of ROI names will appear on the <i>Select observation(s)</i> list box. Highlight the ROIs that you want to visualize and click on the <i>Select</i> button. Here, we will select the left and right primary visual areas (V1_L and V1_R):
    </p>
    <img src="../assets/img/tt_viz_data_obs_selection_in_main_gui.png" alt="tt_viz_data_obs_selection_in_main_gui" width="660">
    <p>
      Notice in the image above that the content of the <i>Apps & tools</i> panel is now visible. Here, we will use the <i>Line/Box plots</i> tool to visualize the selected data. For more information on this and other tools from this panel, please refer to the <i>Analysis</i> section of the umIToolbox <a href="#">documentation</a>.
    </p>
    <p>
      5. Finally, click on the <i>Line/Box plots</i> to open the tool and explore your data!
    </p>
    <img src="../assets/img/tt_viz_data_line_box_plot_interface.png" alt="tt_viz_data_line_box_plot_interface" width="900">
    <p>
      The image above shows the interface of the plotting tool. It consists of a main window (left) containing options to set several axis parameters, a main plot window (center) showing the selected ROI and one or more summary figures (right) containing the plots of all ROIs.
    </p>
    <h3 id="plot-corr-mat">Plot correlation matrices</h3>
    <hr>
    <p>
      In the previous section, we showed how to observe single values from ROIs. Here, we show how to visualize averaged functional connectivity data. Here is the data processing workflow for the resting state experiments:
    </p>
    <img src="../assets/img/tt_viz_spcm_data_processing_workflow.png" alt="tt_viz_spcm_data_processing_workflow" width="660">
    <p>
      1. As the steps 1 and 2 of the previous section, open the main GUI and group the resting state recordings:
    </p>
    <img src="../assets/img/tt_viz_data_grouped_data_in_main_gui2.png" alt="tt_viz_data_grouped_data_in_main_gui2" width="660">
    <p>
      2. Highlight all recordings and select the file containing the correlation matrices (i.e. <samp>corrMatrix</samp>):
    </p>
    <img src="../assets/img/tt_viz_data_file_selection_in_main_gui2.png" alt="tt_viz_data_file_selection_in_main_gui2" width="660">
    <p>
      3. Now, select the ROIs and, in the <i>Apps & tools</i> panel, click on the <i>Plot Correlation Matrix</i> button. As stated in the previous section, for more information on this app, click <a href="#">here</a>.
    </p>
    <p>
      4. Here is a screenshot of the correlation matrix plotting app:
    </p>
    <img src="../assets/img/plotCorrMatrix_interface.png" alt="plotCorrMatrix_interface" width="900">
    <p>
      You can click on any region of a correlation matrix (top) to show the temporal profile (bottom) of the correlation between pairs of ROIs.
    </p>












  </body>
</html>
